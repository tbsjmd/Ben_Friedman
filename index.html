<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ben Friedman - Graphic Designer</title>
    <link rel="stylesheet" href="benstyles.css">
    <script src="https://www.paypal.com/sdk/js?client-id=AfltB4uw8yBwhk-hQ6eIARUrlfFAzqMYC9a54Q53MGiTQ-vXLUJTfO1se8w6zmFkzJo5tFN7D3qKOG2x&currency=USD"></script>
    <style>
        /* Updated header and nav styles */
        header {
            position: relative;
            width: 100%;
            z-index: 1000;
        }

        /* Holiday Banner - moved above other styles */
        .holiday-banner {
            background: linear-gradient(45deg, #ff0000, #006400);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: sparkle 2s infinite;
            margin-top: 0;
        }

        /* Snow Animation */
        .snowflake {
            color: #fff;
            font-size: 1em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 5px #000;
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-duration: 10s, 3s;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
            animation-play-state: running, running;
        }

        @keyframes snowflakes-fall {
            0% { top: -10%; }
            100% { top: 100%; }
        }

        @keyframes snowflakes-shake {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(80px); }
        }

        /* Order Form Styling */
        .order-container {
            max-width: 600px;
            margin: 20px auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }

        .order-form h2 {
            color: #006400;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        /* Rest of your styles remain the same */
        .sale-text {
            font-size: 2.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .original-price {
            text-decoration: line-through;
            color: #ffcccc;
            font-size: 1.8em;
        }

        .sale-price {
            color: #ffff00;
            font-size: 2.2em;
            font-weight: bold;
            margin-left: 10px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes sparkle {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .slideshow-container {
            position: relative;
            max-width: 600px;
            margin: auto;
            padding: 20px;
            height: 450px;
        }

        .slides {
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .slides img {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            object-fit: contain;
            background: white;
        }

        .slides.active {
            display: block;
            opacity: 1;
        }

        .slides .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            opacity: 0.4;
        }

        #featured-work {
            text-align: center;
            padding: 2rem;
        }

        #featured-work h2 {
            margin-bottom: 1rem;
        }

        .dots-container {
            text-align: center;
            padding: 15px;
        }

        .dot {
            height: 15px;
            width: 15px;
            margin: 0 5px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
        }

        .active {
            background-color: #717171;
        }

        #contact {
            padding: 4rem 2rem;
            background: #f8f9fa;
        }

        .contact-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        input, textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        button {
            background: #333;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        button:hover {
            background: #555;
        }

        .contact-info {
            margin-top: 2rem;
            text-align: center;
        }

        .next-button {
            background: #333;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .next-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: #999;
        }

        #payment-step {
            transition: opacity 0.5s ease;
        }

        /* Add this to your existing styles */
        #message {
            transition: opacity 0.5s ease-in-out;
        }

        /* Update the style to only affect placeholder */
        #message::placeholder {
            transition: opacity 0.5s ease-in-out;
        }

        /* Add this to your existing styles */
        @keyframes fadeInOut {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }

        #message::placeholder {
            animation: fadeInOut 1s ease-in-out;
        }

        /* Add these styles to your existing styles */
        .policy-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .policy-section:last-child {
            border-bottom: none;
        }

        .policy-section h4 {
            color: #006400;
            margin-bottom: 15px;
        }

        .policy-section h5 {
            color: #333;
            margin: 15px 0 10px 0;
        }

        .policy-section p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .policy-section ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .policy-section ul li {
            margin-bottom: 5px;
        }

        /* Add these styles */
        @keyframes priceChange {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        #new-price {
            color: #4CAF50;
            font-weight: bold;
            animation: priceChange 0.5s ease-in-out;
        }

        #original-price.strikethrough {
            text-decoration: line-through;
            color: #999;
            font-size: 18px;
        }

        /* Add these animations to your styles */
        @keyframes pulseGlow {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 20px 10px rgba(76, 175, 80, 0.2);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4);
            }
        }

        .free-order-btn {
            background: #4CAF50;
            color: white;
            padding: 20px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 30px auto;
            display: block;
            transition: all 0.3s ease;
            animation: pulseGlow 2s infinite;
        }

        .free-order-btn:hover {
            transform: scale(1.1);
            background: #45a049;
        }

        /* Add to your existing styles section */
        .pricing-tiers {
            margin: 2rem 0;
        }

        .tier-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tier-option {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tier-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tier-option.popular {
            border-color: #4CAF50;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.2);
            animation: pulseGlow 2s infinite;
        }

        .popular-badge {
            position: absolute;
            top: -12px;
            right: -12px;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .tier-option h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .tier-option .price {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .tier-option .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.8em;
            margin-right: 10px;
        }

        .tier-option .sale-price {
            color: #4CAF50;
            font-weight: bold;
        }

        .tier-option ul {
            list-style: none;
            padding: 0;
            margin: 15px 0;
            text-align: left;
        }

        .tier-option ul li {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }

        .tier-option ul li:before {
            content: "‚úì";
            color: #4CAF50;
            position: absolute;
            left: 0;
        }

        .tier-option.selected {
            border-color: #4CAF50;
            background: #f8fff8;
        }

        .file-upload-container {
            margin-top: 10px;
        }

        .upload-btn {
            background: #f0f0f0;
            border: 2px dashed #ccc;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
            color: #000000;
        }

        .upload-btn:hover {
            background: #e8e8e8;
            border-color: #999;
        }

        .file-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .file-preview {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #ddd;
        }

        .file-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-file {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ff4444;
        }

        .remove-file:hover {
            background: #ff4444;
            color: white;
        }

        .drawing-container {
            margin-top: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
        }

        .color-palette {
            margin-bottom: 10px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .color-btn {
            width: 30px;
            height: 30px;
            border: 2px solid #ddd;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
            flex-shrink: 0;
        }

        .color-btn:hover, .eraser-btn:hover {
            transform: scale(1.1);
        }

        .color-btn.active {
            border-color: #333;
            transform: scale(1.1);
        }

        .eraser-btn {
            padding: 5px 10px;
            border: 2px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            background: white;
        }

        .clear-btn {
            padding: 5px 15px;
            border: 2px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            background: white;
            margin-left: auto;
            color: #000000;
        }

        #drawing-canvas {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: crosshair;
            background: white;
        }

        .save-drawing-btn {
            margin-top: 10px;
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .save-drawing-btn:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="holiday-banner">
        <div class="sale-text">üéÑ HOLIDAY SALE! 40% OFF! üéÑ</div>
        <div style="font-size: 1.2em; margin-top: 10px;">Limited Time Offer! Order Now! üéÖ</div>
    </div>

    <header>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="portfolio.html">Portfolio</a></li>
                <li><a href="#order">Order Now</a></li>
            </ul>
        </nav>
    </header>

    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
    </div>

    <main>
        <section id="home">
            <h1>Ben Friedman</h1>
            <h2>Graphic Designer</h2>
            <p>Creating compelling visual designs that tell your story</p>
        </section>

        <section id="featured-work">
            <h2>Featured Work</h2>
            <div class="slideshow-container">
                <div class="slides">
                    <img src="./images/IMG_0514.JPG" alt="Design Project">
                    <div class="watermark">Ben Friedman</div>
                </div>

                <div class="slides">
                    <img src="./images/IMG_0515.JPG" alt="Design Project">
                    <div class="watermark">Ben Friedman</div>
                </div>

                <div class="slides">
                    <img src="./images/IMG_0516.JPG" alt="Design Project">
                    <div class="watermark">Ben Friedman</div>
                </div>

                <div class="slides">
                    <img src="./images/IMG_0518.JPG" alt="Design Project">
                    <div class="watermark">Ben Friedman</div>
                </div>

                <div class="slides">
                    <img src="./images/IMG_0519.JPG" alt="Design Project">
                    <div class="watermark">Ben Friedman</div>
                </div>

                <div class="dots-container">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </section>

        <section id="order">
            <div class="order-container">
                <div class="order-form">
                    <h2>üé® Order Graphic Designs üé®</h2>
                    <form id="orderForm" onsubmit="handleSubmit(event)">
                        <div id="form-step-1">
                            <div class="form-group">
                                <label for="name">Your Name</label>
                                <input type="text" id="name" name="name" required>
                            </div>

                            <div class="form-group">
                                <label for="email">Your Email</label>
                                <input type="email" id="email" name="email" required>
                            </div>

                            <div class="form-group pricing-tiers">
                                <label>Select Your Package</label>
                                <div class="tier-container">
                                    <div class="tier-option" onclick="selectTier('basic')">
                                        <h3>Basic</h3>
                                        <div class="price">
                                            <span class="original-price">$10</span>
                                            <span class="sale-price">$6</span>
                                        </div>
                                        <p>Quick & Simple Designs</p>
                                        <ul>
                                            <li>Single design</li>
                                            <li>Basic modifications</li>
                                            <li>24-hour delivery</li>
                                        </ul>
                                    </div>

                                    <div class="tier-option popular" onclick="selectTier('standard')">
                                        <div class="popular-badge">POPULAR</div>
                                        <h3>Standard</h3>
                                        <div class="price">
                                            <span class="original-price">$20</span>
                                            <span class="sale-price">$12</span>
                                        </div>
                                        <p>Professional Logos & Designs</p>
                                        <ul>
                                            <li>2-3 design concepts</li>
                                            <li>Unlimited revisions</li>
                                            <li>3-day delivery</li>
                                        </ul>
                                    </div>

                                    <div class="tier-option" onclick="selectTier('premium')">
                                        <h3>Premium</h3>
                                        <div class="price">
                                            <span class="original-price">$40</span>
                                            <span class="sale-price">$24</span>
                                        </div>
                                        <p>Large Projects (4-10 Designs)</p>
                                        <ul>
                                            <li>4-10 unique designs</li>
                                            <li>Priority support</li>
                                            <li>5-day delivery</li>
                                        </ul>
                                    </div>
                                </div>
                                <input type="hidden" id="selected-tier" name="selected-tier" required>
                            </div>

                            <div class="form-group">
                                <label for="message">Project Details</label>
                                <textarea id="message" name="message" required></textarea>
                            </div>

                            <div class="form-group">
                                <label for="reference-images">
                                    Reference Images (Optional)
                                    <span style="font-size: 0.8em; color: #666;">
                                        - Upload up to 3 images for reference
                                    </span>
                                </label>
                                <div class="file-upload-container">
                                    <input type="file" 
                                           id="reference-images" 
                                           name="reference-images[]" 
                                           accept="image/*" 
                                           multiple 
                                           onchange="handleFileSelect(event)"
                                           style="display: none;">
                                    <button type="button" 
                                            class="upload-btn" 
                                            onclick="document.getElementById('reference-images').click()">
                                        üìé Add Images
                                    </button>
                                    <div id="file-list" class="file-list"></div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="drawing-canvas">
                                    Draw a Rough Draft! (Optional)
                                    <span style="font-size: 0.8em; color: #666;">
                                        - Click and drag to draw
                                    </span>
                                </label>
                                <div class="drawing-container">
                                    <div class="color-palette">
                                        <button class="color-btn" style="background: #000000" data-color="#000000"></button>
                                        <button class="color-btn" style="background: #ff0000" data-color="#ff0000"></button>
                                        <button class="color-btn" style="background: #00ff00" data-color="#00ff00"></button>
                                        <button class="color-btn" style="background: #0000ff" data-color="#0000ff"></button>
                                        <button class="color-btn" style="background: #ffff00" data-color="#ffff00"></button>
                                        <button class="eraser-btn" data-color="#ffffff">üßπ</button>
                                        <button class="clear-btn">Clear</button>
                                    </div>
                                    <canvas id="drawing-canvas" width="600" height="400"></canvas>
                                    <button type="button" class="save-drawing-btn" onclick="saveDrawing()">Done Drawing</button>
                                    <input type="hidden" id="drawing-data" name="drawing">
                                </div>
                            </div>

                            <div id="promo-section" style="margin: 20px 0; text-align: center;">
                                <div class="form-group">
                                    <label for="promo-code">Have a Promo Code?</label>
                                    <div style="display: flex; justify-content: center; gap: 10px;">
                                        <input type="text" id="promo-code" placeholder="Enter code" style="width: 150px;">
                                        <button type="button" onclick="applyPromoCode()" style="width: auto;">Apply</button>
                                    </div>
                                </div>
                                <div id="price-display" style="margin-top: 15px; font-size: 24px;">
                                    <span id="original-price">$60</span>
                                    <span id="new-price" style="display: none;"></span>
                                </div>
                            </div>

                            <div style="text-align: center; margin-top: 20px;">
                                <button id="nextButton" class="next-button disabled" type="button" onclick="showPaymentStep()">
                                    Next ‚Üí
                                </button>
                            </div>
                        </div>

                        <div id="payment-step" style="display: none; opacity: 0;">
                            <h3 style="text-align: center; margin-bottom: 20px;">Complete Your Order - $60</h3>
                            <div id="paypal-button-container"></div>
                        </div>
                    </form>
                </div>

                <div class="contact-info" style="margin-top: 20px; text-align: center;">
                    <p>Questions? Email me at: bennyf12581@gmail.com</p>
                    
                    <div id="policies" style="margin-top: 30px; font-size: 12px; color: #666; text-align: left;">
                        <details>
                            <summary style="cursor: pointer; margin-bottom: 10px;">View Policies</summary>
                            
                            <div class="policy-section">
                                <h4>Shipping Policy</h4>
                                <p>Please allow for 7 days to fulfil your order and an additional 3-5 shipping days on priority shipping. For any digital products, they should be delivered to your attached email. If you don't receive any documents within the next 7 days, check your junk mail. If you still haven't received anything then contact me at bennyf12581@gmail.com. This is a general baseline, not an official shipping deadline.</p>
                            </div>

                            <div class="policy-section">
                                <h4>Lost in the Mail</h4>
                                <p>Please note that I am not responsible for any packages that get lost at shipping or stolen packages. However, if something goes wrong during the shipping process, please contact me at bennyf12581@gmail.com and I will do my best to help.</p>
                            </div>

                            <div class="policy-section">
                                <h4>Refund Policy</h4>
                                <p><strong>My policy: ALL SALES ARE FINAL!</strong><br>
                                For those who don't understand what that means... I do NOT offer refunds!</p>
                                
                                <h5>Damages and Issues</h5>
                                <p>Please thoroughly inspect your order upon reception and contact me IMMEDIATELY if the item is defective, damaged or if you receive the wrong item so that I can evaluate the issue.<br>
                                (Please note that you might receive an item that is purposely ripped, teared, worn out and/or other distressing methods)</p>
                                
                                <h5>Exchange</h5>
                                <ul>
                                    <li>I don't offer exchanges because all items sold are limited. If you have need to exchange for a different size, contact me personally at bennyf12581@gmail.com and I will review your request.</li>
                                    <li>Refunds are only given to damaged products, I am not responsible for any packages lost in the mall.</li>
                                </ul>
                                <p>You can always contact me for any return questions at bennyf12581@gmail.com.</p>
                                
                                <h5>Exceptions / Non-returnable Items</h5>
                                <p>PLEASE NOTE: I do not accept ANY refunds on digital products. If you made a mistake while purchasing contact me at bennyf12581@gmail.com and I will do my best to help.<br>
                                Unfortunately, I cannot accept returns on sale items or gift cards.</p>
                                
                                <h5>Accepted Refunds</h5>
                                <p>If your refund request is accepted, I will notify you once I've received and inspected your return, and let you know if the refund was approved or not. If approved, you'll be automatically refunded on your original payment method within 10 business days. Please remember it can take some time for your bank or credit card company to process and post the refund too.<br><br>
                                If more than 15 business days have passed since I've approved your return, please contact me at bennyf12581@gmail.com.</p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        let slideIndex = 0;
        showSlides();

        function showSlides() {
            let slides = document.getElementsByClassName("slides");
            let dots = document.getElementsByClassName("dot");
            
            // Remove active class from all slides and dots
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove("active");
                dots[i].classList.remove("active");
            }
            
            slideIndex++;
            if (slideIndex > slides.length) {slideIndex = 1}
            
            // Add active class to current slide and dot
            slides[slideIndex-1].style.display = "block";
            slides[slideIndex-1].classList.add("active");
            dots[slideIndex-1].classList.add("active");
            
            setTimeout(showSlides, 3000);
        }
    </script>

    <script>
        const form = document.getElementById('orderForm');
        const nextButton = document.getElementById('nextButton');
        const requiredInputs = form.querySelectorAll('input[required], select[required], textarea[required]');

        // Check form completion on input changes
        requiredInputs.forEach(input => {
            input.addEventListener('input', checkFormCompletion);
        });

        function checkFormCompletion() {
            let allFilled = true;
            requiredInputs.forEach(input => {
                if (!input.value.trim()) {
                    allFilled = false;
                }
            });

            if (allFilled) {
                nextButton.classList.remove('disabled');
            } else {
                nextButton.classList.add('disabled');
            }
        }

        let currentPrice = 60; // Add this variable to track the current price

        function applyPromoCode() {
            const promoInput = document.getElementById('promo-code');
            const originalPrice = document.getElementById('original-price');
            const newPrice = document.getElementById('new-price');
            
            // Get the promo code and convert to uppercase
            const code = promoInput.value.toUpperCase();
            
            if (code === 'TEST') {
                // Update current price
                currentPrice = 0;
                
                // Show success animation
                originalPrice.classList.add('strikethrough');
                newPrice.textContent = '$0';
                newPrice.style.display = 'inline-block';
                
                // Reset animation
                newPrice.style.animation = 'none';
                newPrice.offsetHeight; // Trigger reflow
                newPrice.style.animation = 'priceChange 0.5s ease-in-out';
            } else {
                alert('Invalid promo code');
                promoInput.value = '';
                currentPrice = 60; // Reset to original price
                
                // Reset price display
                originalPrice.classList.remove('strikethrough');
                newPrice.style.display = 'none';
            }
        }

        function showPaymentStep() {
            if (nextButton.classList.contains('disabled')) {
                return;
            }

            const formStep1 = document.getElementById('form-step-1');
            const paymentStep = document.getElementById('payment-step');
            const paypalContainer = document.getElementById('paypal-button-container');

            // Update the payment step title with current price
            const paymentTitle = paymentStep.querySelector('h3');
            paymentTitle.textContent = `Complete Your Order - $${currentPrice}`;

            // Handle free orders differently
            if (currentPrice === 0) {
                paypalContainer.innerHTML = `
                    <div style="text-align: center;">
                        <button onclick="submitFreeOrder()" 
                                class="free-order-btn">
                            üéâ Complete Free Order üéâ
                        </button>
                    </div>
                `;
            } else {
                // Regular PayPal button for paid orders
                paypal.Buttons({
                    createOrder: function(data, actions) {
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: currentPrice.toFixed(2)
                                },
                                description: 'Design Project'
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            submitOrder(details.payer.name.given_name);
                        });
                    }
                }).render('#paypal-button-container');
            }

            formStep1.style.opacity = '0';
            setTimeout(() => {
                formStep1.style.display = 'none';
                paymentStep.style.display = 'block';
                setTimeout(() => {
                    paymentStep.style.opacity = '1';
                }, 50);
            }, 300);
        }

        function submitFreeOrder() {
            const formData = new FormData(document.getElementById('orderForm'));
            fetch('https://formspree.io/f/mjkkblaz', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                alert('Order completed! Thank you for your order.');
                document.getElementById('orderForm').reset();
                location.reload();
            });
        }

        function submitOrder(name) {
            const formData = new FormData(document.getElementById('orderForm'));
            fetch('https://formspree.io/f/mjkkblaz', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                alert('Order completed! Thank you ' + name);
                document.getElementById('orderForm').reset();
                location.reload();
            });
        }

        function handleSubmit(event) {
            event.preventDefault();
        }
    </script>

    <script>
        const placeholders = [
            "Create a red and blue logo for my fishing company called 'Big Catch Co.'",
            "Design a business card for my yoga studio with calming greens and a lotus flower.",
            "Make a flyer for our Halloween party with spooky vibes and a haunted house theme.",
            "Create an Instagram post announcing my online boutique's Black Friday sale.",
            "Design a minimalist menu for my vegan cafe, featuring greens and earthy tones.",
            // ... all 50 examples ...
            "Design a cozy and inviting logo for my knitting supply store, 'Warm Threads'."
        ];

        const messageTextarea = document.getElementById('message');

        function getRandomPlaceholder() {
            const randomIndex = Math.floor(Math.random() * placeholders.length);
            return placeholders[randomIndex];
        }

        function cyclePlaceholder() {
            // Only cycle if the textarea is empty
            if (!messageTextarea.value) {
                // Fade out
                messageTextarea.style.opacity = '0';
                
                // Change placeholder after fade out
                setTimeout(() => {
                    messageTextarea.setAttribute('placeholder', getRandomPlaceholder());
                    // Fade in
                    messageTextarea.style.opacity = '1';
                }, 500);
            }
        }

        // Change placeholder every 4 seconds
        cyclePlaceholder(); // Initial placeholder
        const cycleInterval = setInterval(cyclePlaceholder, 4000);

        // Stop cycling when user starts typing
        messageTextarea.addEventListener('input', function() {
            if (this.value) {
                clearInterval(cycleInterval);
                this.style.opacity = '1'; // Ensure full opacity when typing
            }
        });
    </script>

    <script>
        function selectTier(tier) {
            // Remove selected class from all tiers
            document.querySelectorAll('.tier-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked tier
            const selectedTier = document.querySelector(`.tier-option:nth-child(${
                tier === 'basic' ? '1' : tier === 'standard' ? '2' : '3'
            })`);
            selectedTier.classList.add('selected');
            
            // Update hidden input
            document.getElementById('selected-tier').value = tier;
            
            // Update current price based on selection
            switch(tier) {
                case 'basic':
                    currentPrice = 6; // $10 with 40% off
                    break;
                case 'standard':
                    currentPrice = 12; // $20 with 40% off
                    break;
                case 'premium':
                    currentPrice = 24; // $40 with 40% off
                    break;
            }
            
            // Enable next button if form is complete
            checkFormCompletion();
        }
    </script>

    <script>
        function handleFileSelect(event) {
            const files = event.target.files;
            const fileList = document.getElementById('file-list');
            
            // Limit to 3 files
            if (files.length + fileList.children.length > 3) {
                alert('You can only upload up to 3 images');
                event.target.value = '';
                return;
            }

            // Process each file
            for (let file of files) {
                if (!file.type.startsWith('image/')) {
                    alert('Please upload only image files');
                    continue;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.createElement('div');
                    preview.className = 'file-preview';
                    preview.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button class="remove-file" onclick="removeFile(this)">√ó</button>
                    `;
                    fileList.appendChild(preview);
                };
                reader.readAsDataURL(file);
            }
        }

        function removeFile(button) {
            button.parentElement.remove();
            // Reset file input if all previews are removed
            if (document.getElementById('file-list').children.length === 0) {
                document.getElementById('reference-images').value = '';
            }
        }
    </script>

    <script>
        const canvas = document.getElementById('drawing-canvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let currentColor = '#000000';

        // Set canvas size to match display size
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth - 30; // Account for padding
            canvas.height = 400;
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        // Initialize canvas
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Drawing event listeners
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        // Touch support
        canvas.addEventListener('touchstart', handleTouch);
        canvas.addEventListener('touchmove', handleTouch);
        canvas.addEventListener('touchend', stopDrawing);

        // Color selection
        document.querySelectorAll('.color-btn, .eraser-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.color-btn, .eraser-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentColor = this.dataset.color;
            });
        });

        // Clear canvas
        document.querySelector('.clear-btn').addEventListener('click', function() {
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        });

        function startDrawing(e) {
            isDrawing = true;
            draw(e);
        }

        function draw(e) {
            if (!isDrawing) return;

            let x, y;
            if (e.type.includes('touch')) {
                const rect = canvas.getBoundingClientRect();
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.offsetX;
                y = e.offsetY;
            }

            ctx.lineWidth = 5;
            ctx.lineCap = 'round';
            ctx.strokeStyle = currentColor;

            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x, y);
        }

        function stopDrawing() {
            isDrawing = false;
            ctx.beginPath();
        }

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.type === 'touchstart' ? startDrawing : draw;
            touch(e);
        }

        function saveDrawing() {
            // Convert canvas to base64 image data
            const imageData = canvas.toDataURL('image/png');
            document.getElementById('drawing-data').value = imageData;
            
            // Show preview of saved drawing
            const fileList = document.getElementById('file-list');
            const preview = document.createElement('div');
            preview.className = 'file-preview';
            preview.innerHTML = `
                <img src="${imageData}" alt="Drawing">
                <button class="remove-file" onclick="removeFile(this)">√ó</button>
            `;
            fileList.appendChild(preview);
            
            // Clear canvas for next drawing
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }
    </script>
</body>
</html>
